<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JobPortalX - Home</title>
  {% load static %}
  <style>
    :root{--accent:#1e90ff;--muted:#6b7280}
    *{box-sizing:border-box}
    body{font-family:Segoe UI, Roboto, Arial, sans-serif;margin:0;color:#111;background:#f7f9fb;line-height:1.5}
    header{background:#fff;padding:18px 6%;display:flex;align-items:center;justify-content:space-between;box-shadow:0 2px 6px rgba(0,0,0,0.04);position:sticky;top:0;z-index:10}
    header h1{margin:0;font-size:1.6rem;color:var(--accent)}
    nav a{margin-left:18px;color:var(--accent);text-decoration:none;font-weight:600}
    nav a:hover{text-decoration:underline}
    .hero{max-width:100%;margin:0 auto;padding:80px 6%;min-height:420px;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:0;background:linear-gradient(120deg,#1976d2 0%,#4dabf7 100%);color:#fff}
    .hero h2{font-size:2.4rem;margin:0 0 12px;text-align:center}
    .hero p{color:rgba(255,255,255,0.9);margin:0 0 18px;text-align:center;max-width:880px}
    .hero button{background:var(--accent);color:#fff;border:none;padding:10px 18px;border-radius:6px;cursor:pointer;font-weight:600}
    .hero-avatar{width:120px;height:120px;border-radius:8px;object-fit:cover;margin-bottom:14px;box-shadow:0 6px 18px rgba(0,0,0,0.35)}
    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;max-width:1100px;margin:28px auto;padding:0 6%}
    .feature{background:#fff;padding:18px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.04)}
    .feature h3{margin:0 0 8px}
    .jobs-section{max-width:1100px;margin:40px auto;padding:0 6%}
    .jobs-section h2{color:#1976d2;font-size:28px;margin-top:0;margin-bottom:30px;text-align:center}
    .job-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px;margin-bottom:40px}
    .job-card{background:#fff;padding:25px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,0.1);transition:transform 0.2s,box-shadow 0.2s}
    .job-card:hover{transform:translateY(-4px);box-shadow:0 6px 16px rgba(0,0,0,0.15)}
    .job-title{font-size:18px;font-weight:700;color:#1976d2;margin:0 0 8px}
    .job-company{font-size:15px;color:#666;margin:5px 0}
    .job-location{font-size:14px;color:#999;margin:5px 0}
    .job-salary{font-size:15px;font-weight:600;color:#4caf50;margin:8px 0}
    .job-description{font-size:13px;color:#555;line-height:1.5;margin:12px 0;max-height:70px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}
    .job-footer{display:flex;gap:10px;margin-top:15px;padding-top:15px;border-top:1px solid #eee}
    .btn{padding:8px 16px;border:none;border-radius:6px;cursor:pointer;font-size:13px;font-weight:600;text-decoration:none;display:inline-block;text-align:center;flex:1;transition:background-color 0.2s}
    .btn-primary{background:#1976d2;color:#fff}
    .btn-primary:hover{background:#1565c0}
    .btn-secondary{background:#e0e0e0;color:#333}
    .btn-secondary:hover{background:#d0d0d0}
    .no-jobs{text-align:center;padding:60px 20px;color:#999}
    footer{max-width:1100px;margin:40px auto;padding:16px 6%;color:#666;font-size:0.95rem}
    @media (max-width:600px){header{padding:12px 4%;flex-direction:column;text-align:center}.hero{padding:20px}.hero h2{font-size:1.4rem}.job-grid{grid-template-columns:1fr}}
  </style>
</head>
<body>

<header>
  {% load static %}
  <h1>JobPortalX</h1>
  <nav>
    <a href="{% url 'home' %}">Home</a>
    {% if user.is_authenticated %}
      {% if user.is_staff %}
        <a href="{% url 'recruiter_dashboard' %}">Dashboard</a>
      {% else %}
        <a href="{% url 'employee_dashboard' %}">Dashboard</a>
      {% endif %}
      <a href="{% url 'logout' %}">Logout</a>
    {% else %}
      <a href="{% url 'login' %}">Login</a>
      <a href="{% url 'register' %}">Register</a>
    {% endif %}
  </nav>
</header>

<section class="hero">
  <h2>Find Your Dream Job</h2>
  <p>Opportunities for freshers and professionals. Browse jobs, apply with confidence, and start your career journey today.</p>
  {% if not user.is_authenticated %}
    <button onclick="location.href='{% url 'register' %}'">Get Started</button>
  {% endif %}
</section>

<section class="features">
  <div class="feature">
    <h3>üîç Browse Jobs</h3>
    <p>Explore opportunities from top companies across industries.</p>
  </div>
  <div class="feature">
    <h3>üìù Apply Easily</h3>
    <p>Submit applications in minutes with a personalized cover letter.</p>
  </div>
  <div class="feature">
    <h3>üíº For Recruiters</h3>
    <p>Post jobs and find the perfect candidates for your team.</p>
  </div>
  <div class="feature">
    <h3>‚ö° Quick Process</h3>
    <p>Simple, fast, and transparent hiring process for everyone.</p>
  </div>
</section>

<section class="jobs-section">
  <h2>Available Jobs</h2>
  {% if jobs %}
    <div class="job-grid">
      {% for job in jobs %}
        <div class="job-card">
          <h3 class="job-title">{{ job.title }}</h3>
          <p class="job-company"><strong>{{ job.company }}</strong></p>
          <p class="job-location">üìç {{ job.location }}</p>
          <p class="job-salary">üí∞ ‚Çπ{{ job.salary|floatformat:0 }}/year</p>
          <p class="job-description">{{ job.description|truncatewords:25 }}</p>
          <div class="job-footer">
            {% if user.is_authenticated and not user.is_staff %}
              <a href="{% url 'apply_job' job.id %}" class="btn btn-primary">Apply Now</a>
            {% elif not user.is_authenticated %}
              <a href="{% url 'login' %}" class="btn btn-primary">Login to Apply</a>
            {% else %}
              <a href="{% url 'view_applicants' job.id %}" class="btn btn-secondary">View Applicants</a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="no-jobs">
      <p>üì≠ No jobs available at the moment</p>
      <p style="font-size:14px;color:#ccc;">Check back later for new opportunities</p>
    </div>
  {% endif %}
</section>

<footer>
  <p>¬© 2025 JobPortalX | All Rights Reserved</p>
</footer>

</body>
</html>

